const time=document.getElementById("time"),back=document.getElementById("back"),route=document.getElementById("route"),form1=document.getElementById("form1"),form2=document.getElementById("form2"),hours=document.querySelectorAll(".hour");function calc(){const e=(new Date).getTimezoneOffset();function t(e){return e>=0&&e<10?"0"+e:e}hours.forEach((l=>{let a=Number(l.value.slice(0,2)),i=Number(l.value.slice(3,5)),u=60*(a-3)-e+i;u>1439?u-=1440:u<0&&(u=1440+u),a=Math.floor(u/60),i=u%60,l.value=t(a)+":"+t(i),l.innerHTML=l.value})),route.value=route.firstElementChild.value,time.value=time.firstElementChild.value,back.value=back.lastElementChild.value;let l=0;function a(){let t=Number(time.value.slice(0,2)),l=Number(time.value.slice(3,5)),a=60*(t+3)+e+l;back.childNodes.forEach((t=>{let l=Number(t.value.slice(0,2)),i=Number(t.value.slice(3,5));a+50>60*(l+3)+e+i?t.classList.add("hide"):t.classList.remove("hide")}))}route.addEventListener("change",(()=>{time.value=time.firstElementChild.value,back.value=back.lastElementChild.value,l=route.selectedIndex,0===l?(form1.classList.remove("hide"),form2.classList.add("hide")):1===l?(form1.classList.add("hide"),form2.classList.remove("hide"),back.childNodes.forEach((e=>{e.classList.remove("hide")}))):2===l&&(form1.classList.remove("hide"),form2.classList.remove("hide"),a())})),time.addEventListener("change",(()=>{a()}));const i=document.getElementById("num");i.value=1;let u=i.value;i.addEventListener("change",(()=>{""!==i.value&&"0"!==i.value||(i.value=1),u=i.value}));const c=document.getElementById("button"),n=document.querySelector(".answer");let m=0,r="";function d(e){let l=Number(e.slice(0,2)),a=Number(e.slice(3,5)),i=60*l+a+50;return i>1439?i-=1440:i<0&&(i=1440+i),l=Math.floor(i/60),a=i%60,t(l)+":"+t(a)}c.addEventListener("click",(()=>{let e=time.value,t=back.value;0===l?(m=700*u,r="50 минут",t=d(e)):1===l?(m=700*u,r="50 минут",e=t,t=d(t)):2===l&&(m=1200*u,r="1 час 40 минут",t=d(t)),n.innerHTML=`\n            <div>Вы выбрали маршрут ${route.value}, количество билетов: ${u}, стоимость: ${m}р.</div>\n            <div>Это путешествие займет у вас ${r}.</div>\n            <div>Теплоход отправляется в ${e}, а прибудет в ${t}.</div>\n        `}))}calc();